# Merge Request: 재고 오버플로우 로직 개선 (M-1)

## Intent

"정답 없음·트레이드오프·불확실성" 철학을 더 정확히 반영하기 위해 재고-수요 처리 로직을 개선합니다. 기존 로직은 판매량이 재고를 초과하는 경우 단순히 재고를 0으로 설정하는 방식이었으나, 이는 게임 철학과 현실 비즈니스 모두에 맞지 않습니다. 이번 수정으로 예측 수요와 실제 수요 간의 불확실성, 재고 한도, 그리고 재고 부족으로 인한 평판 하락이라는 트레이드오프를 명확히 구현합니다.

## Mission

1. 기존 `uncertainty_adjust_inventory` 함수를 삭제하고 더 현실적인 수요-재고 처리 로직 구현
2. 예측 수요에 불확실성을 적용하는 `demand_with_uncertainty` 함수 추가
3. 실제 수요와 재고를 비교하여 판매량을 결정하는 `process_orders` 함수 구현
4. 재고 부족 시 평판 패널티 적용 및 이벤트 메시지 추가
5. 난이도별 평판 패널티 계수 설정 추가
6. 관련 테스트 및 문서 업데이트

## End State

- 예측 수요 → 불확실성 적용 → 실제 수요 → 재고 한도 체크 → 판매 및 평판 조정으로 이어지는 현실적인 플로우 구현
- 재고 부족 시 평판 패널티가 적용되고 이벤트 메시지가 표시됨
- 난이도별로 다른 평판 패널티 계수 적용 가능
- 모든 테스트 통과 및 90% 이상의 코드 커버리지 달성
- 문서에 새로운 플로우 다이어그램 및 설명 추가

## Constraints

- 기존 코드의 철학적 키워드(tradeoff_, uncertainty_, noRightAnswer)를 유지
- "불확실성 ≠ 불합리한 음수" 주석 유지
- 모든 파라미터는 하드코딩 없이 설정 파일에서 관리
- 테스트 커버리지 80% 이상 유지
- CI 파이프라인 Green 유지

## Tech

- 정규분포 기반 불확실성 모델링 (±10% 노이즈)
- 난수 생성기(Random) 주입 방식으로 테스트 용이성 확보
- 이벤트 메시지 시스템을 통한 사용자 피드백 제공
- 난이도별 설정을 통한 게임 밸런싱 지원
- 모킹 기법을 활용한 테스트 안정성 확보

## Validation

- 모든 테스트 13개 통과 (pytest Green)
- 전체 코드 커버리지 90% 달성
- 재고 부족 시나리오 테스트 추가 및 통과
- 충분한 재고 시나리오 테스트 추가 및 통과
- 불확실성 적용 테스트 추가 및 통과
- 문서와 코드의 일관성 검증 완료
- CI Gate 정상화 완료
