# 릴리즈 노트: v0.4.0 - 오프라인 콘텐츠 파이프라인 & 대형 이벤트 뱅크

## 개요

치킨집 경영 시뮬레이션 게임 v0.4.0은 대규모 이벤트 콘텐츠 생성 및 관리를 위한 오프라인 파이프라인을 도입합니다. 이 릴리즈는 500개 이상의 이벤트를 효율적으로 생성, 검증, 밸런싱하는 도구 체인을 제공하여 게임의 다양성과 재미를 크게 향상시킵니다.

## 주요 기능

### 1. 오프라인 콘텐츠 파이프라인

- **Event Generator CLI**: 카테고리별 이벤트 대량 생성 도구
  - LLM(Claude/GPT) 기반 이벤트 생성
  - 카테고리별 템플릿 지원
  - JSON/TOML 형식 출력

- **Content Validator**: 이벤트 품질 및 일관성 검증 도구
  - 스키마 검증
  - ID 유일성 검증
  - 트레이드오프 존재 확인
  - 품질 메트릭 자동 계산

- **Balance Simulator**: 이벤트 밸런스 자동 시뮬레이션 도구
  - 게임 메트릭 추적
  - 밸런스 점수 계산
  - JSON/CSV 리포트 생성
  - 개선 추천사항 제공

- **Event Bank Manager**: 이벤트 뱅크 통합 관리 도구
  - 대량 이벤트 로드 및 검증
  - 품질 메트릭 계산
  - 밸런스 시뮬레이션
  - 백업 및 버전 관리
  - 메모리 효율적 처리 (generator 패턴)
  - 진행률 표시 (tqdm 통합)
  - 검증 결과 저장 기능
  - dry-run 모드 지원

### 2. 문서화 및 품질 관리

- **콘텐츠 가이드라인**: 일관된 이벤트 작성을 위한 상세 지침
  - 이벤트 구조 정의
  - 카테고리별 작성 원칙
  - 트레이드오프 설계 방법
  - 품질 체크리스트

- **버전 관리 정책**: 이벤트 뱅크의 체계적인 관리 방법
  - 버전 체계 정의
  - 브랜치 전략
  - 커밋 메시지 규칙
  - 백업 및 복원 절차

- **품질 메트릭**: 이벤트 품질 객관적 평가 체계
  - 다양성 점수
  - 트레이드오프 명확성
  - 문화적 진정성
  - 재플레이 가치
  - 밸런스 메트릭

## 기술적 개선사항

### 1. 보안 강화

- API 키 관리 시스템 구현
- .env 파일을 통한 안전한 키 저장
- 자동 검증 메커니즘

### 2. 자동화 파이프라인

- 이벤트 생성 → 검증 → 밸런싱 → 배포 자동화
- CI/CD 파이프라인 통합
- 자동 품질 검증

### 3. 데이터 구조 최적화

- TOML/JSON 형식 지원
- 효율적인 이벤트 ID 관리
- 카테고리별 구조화

### 4. 코드 품질 개선

- 조건부 import 및 스텁 클래스 구현
- 타입 힌트 일관성 개선 (Python 3.11+ 표준)
- 하드코딩된 카테고리 제거 및 중앙 관리
- 메모리 효율성 개선 (generator 패턴)
- 출력 형식 통일 및 이모지 사용 확대
- 진행률 표시 기능 추가 (tqdm)
- 검증 결과 저장 기능 추가
- dry-run 모드 추가

## 개발자 도구

- `dev_tools/config.py`: API 키 관리
- `dev_tools/event_generator.py`: 이벤트 생성 CLI
- `dev_tools/event_validator.py`: 이벤트 검증 도구
- `dev_tools/balance_simulator.py`: 밸런스 시뮬레이션
- `dev_tools/event_bank_manager.py`: 통합 관리 도구

## 문서

- `docs/event_validator_design.md`: 검증기 설계 및 사용법
- `docs/balance_simulator_design.md`: 시뮬레이터 설계 및 사용법
- `docs/content_guidelines.md`: 이벤트 작성 가이드라인
- `docs/event_bank_versioning.md`: 버전 관리 정책
- `docs/quality_metrics.md`: 품질 평가 체계

## 알려진 이슈

- 연쇄 이벤트(CASCADE 타입)의 무결성 검증 개선 필요
- 대량 이벤트(500+) 생성 시 성능 최적화 필요

## 다음 단계

- 500+ 이벤트 뱅크 구축 완료
- 단위 테스트 확대
- 연쇄 무결성 검증 강화
- 사용자 피드백 기반 품질 지표 조정

## 기여자

- 개발팀: 이벤트 엔진 및 파이프라인 구현
- 콘텐츠팀: 이벤트 템플릿 및 가이드라인 작성
- QA팀: 밸런스 테스트 및 품질 검증

## 변경 이력

- v0.3.0: 이벤트 엔진 및 연쇄 효과 시스템
- v0.2.0: 메트릭 트래커 및 수정자
- v0.1.0: 초기 게임 엔진 구현
